@model User

@{
	ViewData["Title"] = "UserPage";
	Layout = "User_Layout";
}


<style>

	:root {
		--bc: #efeeee;
		--white: #ffffff;
		--black: #000000;
		--dark-blue: #1f2029;
		--extra-dark-blue: #13141a;
		--dark-light: #424455;
		--red: #da2c4d;
		--dark-red: #6e1727;
		--yellow: #f8ab37;
		--grey: #ecedf3;
		--blue: #007bff;
		--indigo: #6610f2;
		--purple: #6f42c1;
		--pink: #e83e8c;
		--orange: #fd7e14;
		--green: #28a745;
		--light-green: #24e33a;
		--teal: #20c997;
		--cyan: #17a2b8;
		--gray: #6c757d;
		--primary: #d1a9de;
		--secondary: #7015b3;
		--success: #28a745;
		--info: #17a2b8;
		--warning: #ffc107;
		--danger: #dc3545;
		--font-family-sans-serif: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
		--font-family-monospace: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
	}


	/* Classes */
	.space {
		margin: 1em 0;
	}
	/* User Header */
	.user-header-wrapper {
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.user-header-inner {
		width: 80%;
		min-height: 15vh;
		display: grid;
		align-items: center;
		grid-template-columns: auto 1fr;
		grid-column-gap: 2em;
		grid-row-gap: 2em;
	}

	.uh-left {
		width: 100%;
		height: 100%;
		padding: 0 2em 0 0;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.uh-image {
		width: 11rem;
		height: 11rem;
		border-radius: 50%;
		position: relative;
		display: flex;
		justify-content: center;
		align-items: center;
		cursor: pointer;
	}

	.uh-image-inner {
		width: 10.5rem;
		height: 10.5rem;
		border: .3em solid var(--grey);
		object-fit: cover;
		border-radius: 50%;
		z-index: 2;
	}

	.gradient {
		width: 100%;
		height: 100%;
		padding: .3em;
		position: absolute;
		border-radius: 50%;
		background: linear-gradient(45deg, rgba(214,41,118,1) 0%, rgba(250,126,30,1) 100%);
	}

	.gradient-gray {
		width: 100%;
		height: 100%;
		padding: .3em;
		position: absolute;
		border-radius: 50%;
		background: linear-gradient(45deg, rgba(236,237,243,1) 0%, rgba(228,229,233,1) 100%);
	}

	.uh-right {
		padding: 1em;
		width: 100%;
		height: 100%;
		display: flex;
		jusify-content: flex-start;
		flex-direction: column;
		align-items: flex-start;
	}

	.user-info {
		font-size: 2em;
		line-height: 0;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.uname-verified {
		height: 1.8rem;
	}

	.btn {
		margin: 1em;
		border-radius: 3px;
		border: 1px solid var(--grey);
		background-color: var(--light);
		padding: .4em .6em;
		cursor: pointer;
		color: var(--black);
	}

		.btn:hover {
			box-shadow: 0 0 20px red, 0 0 60px red;
		}

	.user-links a {
		margin: 0 1em 0 0;
		cursor: pointer;
	}

		.user-links a span {
			color: var(--black);
			font-weight: bolder;
		}

	.user-bio-name {
		font-weight: bold;
		margin: 1.75em 0 0 0;
		line-height: 0;
	}
	/* User stories */
	.user-stories {
		margin: 3em 0 1em 0;
		width: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.user-stories-inner {
		width: 80%;
		display: grid;
		align-items: center;
		grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
		grid-column-gap: 4em;
	}

	.story-wrapper {
		width: 100%;
		height: 100%;
		display: flex;
		justify-content: center;
		flex-direction: column;
		align-items: center;
		transition: all .3s;
	}

		.story-wrapper:hover .story-inner {
			box-shadow: 0 0 20px red, 0 0 60px red;
		}

		.story-wrapper h2 {
			margin: .25em;
			font-size: 1.1em;
			font-weight: 400;
			color: black;
		}

			.story-wrapper h2 i {
				margin-left: 0.5rem;
			}

	.story-inner {
		width: 75%;
		border-radius: 50%;
		overflow: hidden;
		position: relative;
		display: flex;
		justify-content: center;
		align-items: center;
		cursor: pointer;
	}

		.story-inner:after {
			content: "";
			display: block;
			padding-bottom: 100%;
		}

	.story-img {
		width: calc(100% - .5em);
		height: calc(100% - .5em);
		position: absolute;
		object-fit: cover;
		border-radius: 50%;
		border: 3px solid var(--grey);
		z-index: 2;
	}
	/* User Page */
	.user-page-wrapper {
		display: flex;
		justify-content: center;
		margin: 3em 0;
	}

	.user-page-inner {
		width: 80%;
		display: grid;
		align-items: center;
		grid-template-columns: 1fr 1fr 1fr;
		grid-template-rows: 1fr 1fr 1fr;
		grid-column-gap: 2em;
		grid-row-gap: 2em;
	}

	.image-wrapper {
		width: 100%;
		height: 100%;
		overflow: hidden;
		position: relative;
		display: flex;
		justify-content: center;
		align-items: center;
		cursor: pointer;
	}

		.image-wrapper:after {
			content: "";
			display: block;
			padding-bottom: 100%;
		}

	.image {
		width: 100%;
		height: 100%;
		position: absolute;
		object-fit: cover;
	}

	.img-overlay-wrapper {
		width: 100%;
		height: 100%;
		opacity: 0;
		position: absolute;
		display: flex;
		justify-content: center;
		align-items: center;
		z-index: 10;
		transition: opacity .15s ease-in-out;
	}

	.img-btns {
		font-size: 1.3em;
		color: var(--white);
		z-index: 10;
	}

	.img-overlay {
		width: 100%;
		height: 100%;
		position: absolute;
		background-color: rgba(0, 0, 0, .4);
		z-index: 9;
	}

	.image-block {
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		width: 100%;
		height: 100%;
		position: fixed;
		display: none;
		justify-content: center;
		align-items: center;
		z-index: 20;
	}

	.block {
		width: 60%;
		height: 50%;
		position: relative;
		display: flex;
		justify-content: center;
		align-items: center;
		background-color: var(--light-mode-brig);
		z-index: 20;
	}

	.block-background {
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		width: 100%;
		height: 100%;
		position: absolute;
		background-color: rgba(0, 0, 0, .4);
		z-index: 19;
	}
	/* User Loader */
	.user-loader {
		min-height: 25vh;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.loader {
		position: relative;
		width: 75px;
	}

	.circular {
		animation: rotate 2s linear infinite;
		height: 100%;
		width: 100%;
	}

	.path {
		stroke-dasharray: 1, 200;
		stroke-dashoffset: 0;
		animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
		stroke-linecap: round;
	}
	/* Keyframes */
	@@keyframes rotate {
		100% {
			transform: rotate(360deg);
		}
	}

	@@keyframes dash {
		0% {
			stroke-dasharray: 1, 200;
			stroke-dashoffset: 0;
		}

		50% {
			stroke-dasharray: 89, 200;
			stroke-dashoffset: -35px;
		}

		100% {
			stroke-dasharray: 89, 200;
			stroke-dashoffset: -124px;
		}
	}

	@@keyframes color {
		100%, 0% {
			stroke: var(--red);
		}

		40% {
			stroke: var(--blue);
		}

		66% {
			stroke: var(--green);
		}

		80%, 90% {
			stroke: var(--yellow);
		}
	}

	@@media (max-width: 1024px) {
		.user-header-inner {
			width: 85%;
		}

		.uh-image {
			width: 10rem;
			height: 10rem;
		}

		.uh-image-inner {
			width: 9.5rem;
			height: 9.5rem;
		}

		.user-stories-inner {
			width: 85%;
			grid-column-gap: 2em;
		}

		.story-wrapper {
			margin: 0 1em;
		}

		.user-page-inner {
			width: 85%;
			grid-column-gap: 1.5em;
			grid-row-gap: 1.5em;
		}

		.img-btns {
			font-size: 1.1em;
		}
	}

	@@media (max-width: 936px) {
		.user-header-inner {
			width: 90%;
		}

		.uh-left {
			padding: 0 1em 0 0;
		}

		.uh-image {
			width: 9rem;
			height: 9rem;
		}

		.uh-image-inner {
			width: 8.5rem;
			height: 8.5rem;
		}

		.user-stories-inner {
			width: 90%;
			grid-column-gap: .75em;
		}

		.story-wrapper {
			margin: 0 .5em;
		}

		.user-page-inner {
			width: 90%;
			grid-column-gap: 1.25em;
			grid-row-gap: 1.25em;
		}

		.img-btns {
			font-size: 1em;
		}
	}

	@@media (max-width: 767px) {
		.uh-left {
			padding: 0;
		}

		.uh-image {
			width: 8.5rem;
			height: 8.5rem;
		}

		.uh-image-inner {
			width: 8rem;
			height: 8rem;
		}

		.story-wrapper {
			margin: 0 .25em;
		}

		.user-page-inner {
			grid-column-gap: 1em;
			grid-row-gap: 1em;
		}

		.img-btns {
			font-size: .8em;
		}
	}


	.cd-container {
		width: 90%;
		max-width: 1080px;
		margin: 0 auto;
		background: #2b343a;
		padding: 0 10%;
		border-radius: 2px;
	}

		.cd-container::after {
			content: '';
			display: table;
			clear: both;
		}

	#cd-timeline {
		position: relative;
		padding: 2em 0;
		margin-top: 2em;
		margin-bottom: 2em;
	}

		#cd-timeline::before {
			content: '';
			position: absolute;
			top: 0;
			left: 25px;
			height: 100%;
			width: 4px;
			background: #7e57c2;
		}

	@@media only screen and (min-width: 1170px) {
		#cd-timeline {
			margin-top: 3em;
			margin-bottom: 3em;
		}

			#cd-timeline::before {
				left: 50%;
				margin-left: -2px;
			}
	}

	.cd-timeline-block {
		position: relative;
		margin: 2em 0;
	}

		.cd-timeline-block:after {
			content: "";
			display: table;
			clear: both;
		}

		.cd-timeline-block:first-child {
			margin-top: 0;
		}

		.cd-timeline-block:last-child {
			margin-bottom: 0;
		}

	@@media only screen and (min-width: 1170px) {
		.cd-timeline-block {
			margin: 4em 0;
		}

			.cd-timeline-block:first-child {
				margin-top: 0;
			}

			.cd-timeline-block:last-child {
				margin-bottom: 0;
			}
	}

	.cd-timeline-img {
		position: absolute;
		top: 8px;
		left: 12px;
		width: 30px;
		height: 30px;
		border-radius: 50%;
		box-shadow: 0 0 0 4px #7e57c2, inset 0 2px 0 rgba(0,0,0,0.08), 0 3px 0 4px rgba(0,0,0,0.05);
	}

	.cd-timeline-img {
		background: #673ab7;
	}

	@@media only screen and (min-width: 1170px) {
		.cd-timeline-img {
			width: 30px;
			height: 30px;
			left: 50%;
			margin-left: -15px;
			margin-top: 15px;
			-webkit-transform: translateZ(0);
			-webkit-backface-visibility: hidden;
		}
	}

	.cd-timeline-content {
		position: relative;
		margin-left: 60px;
		margin-right: 30px;
		background: #333c42;
		border-radius: 2px;
		padding: 1em;
	}

		.cd-timeline-content .timeline-content-info {
			background: #2b343a;
			padding: 5px 10px;
			color: rgba(255,255,255,0.7);
			font-size: 12px;
			box-shadow: inset 0 2px 0 rgba(0,0,0,0.08);
			border-radius: 2px;
		}

			.cd-timeline-content .timeline-content-info i {
				margin-right: 5px;
			}

			.cd-timeline-content .timeline-content-info .timeline-content-info-title,
			.cd-timeline-content .timeline-content-info .timeline-content-info-date {
				width: calc(50% - 2px);
				display: inline-block;
			}

	@@media (max-width: 500px) {
		.cd-timeline-content .timeline-content-info .timeline-content-info-title,
		.cd-timeline-content .timeline-content-info .timeline-content-info-date {
			display: block;
			width: 100%;
		}
	}

	.cd-timeline-content .content-skills {
		font-size: 12px;
		padding: 0;
		margin-bottom: 0;
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
	}

		.cd-timeline-content .content-skills li {
			background: #40484d;
			border-radius: 2px;
			display: inline-block;
			padding: 2px 10px;
			color: rgba(255,255,255,0.7);
			margin: 3px 2px;
			text-align: center;
			flex-grow: 1;
		}

	.cd-timeline-content:after {
		content: "";
		display: table;
		clear: both;
	}

	.cd-timeline-content h2 {
		color: rgba(255,255,255,0.9);
		margin-top: 0;
		margin-bottom: 5px;
	}

	.cd-timeline-content p,
	.cd-timeline-content .cd-date {
		color: rgba(255,255,255,0.7);
		font-size: 13px;
		font-size: 0.8125rem;
	}

	.cd-timeline-content .cd-date {
		display: inline-block;
	}

	.cd-timeline-content p {
		margin: 1em 0;
		line-height: 1.6;
	}

	.cd-timeline-content::before {
		content: '';
		position: absolute;
		top: 16px;
		right: 100%;
		height: 0;
		width: 0;
		border: 7px solid transparent;
		border-right: 7px solid #333c42;
	}

	@@media only screen and (min-width: 768px) {
		.cd-timeline-content h2 {
			font-size: 20px;
			font-size: 1.25rem;
		}

		.cd-timeline-content p {
			font-size: 16px;
			font-size: 1rem;
		}

		.cd-timeline-content .cd-read-more,
		.cd-timeline-content .cd-date {
			font-size: 14px;
			font-size: 0.875rem;
		}
	}

	@@media only screen and (min-width: 1170px) {
		.cd-timeline-content {
			color: #fff;
			margin-left: 0;
			padding: 1.6em;
			width: 36%;
			margin: 0 5%;
		}

			.cd-timeline-content::before {
				top: 24px;
				left: 100%;
				border-color: transparent;
				border-left-color: #333c42;
			}

			.cd-timeline-content .cd-date {
				position: absolute;
				width: 100%;
				left: 142%;
				top: 6px;
				font-size: 16px;
				font-size: 1rem;
			}

		.cd-timeline-block:nth-child(even) .cd-timeline-content {
			float: right;
		}

			.cd-timeline-block:nth-child(even) .cd-timeline-content::before {
				top: 24px;
				left: auto;
				right: 100%;
				border-color: transparent;
				border-right-color: #333c42;
			}

			.cd-timeline-block:nth-child(even) .cd-timeline-content .cd-read-more {
				float: right;
			}

			.cd-timeline-block:nth-child(even) .cd-timeline-content .cd-date {
				left: auto;
				right: 142%;
				text-align: right;
			}
	}

	html,
	body {
		font-family: 'Open Sans', sans-serif;
		box-sizing: border-box;
	}


	#cd-timeline .show {
		display: none;
	}

	.container_cc {
		width: 100%;
		text-align: center;
		padding: 1rem 0;
		display: none;
	}

	.pagination_cc {
		list-style: none;
		padding: 0;
		display: flex;
		justify-content: center;
	}

		.pagination_cc li {
			display: inline;
			text-align: center;
		}

		.pagination_cc a {
			float: left;
			display: block;
			font-size: 14px;
			font-weight: 500;
			text-decoration: none;
			padding: 5px 12px;
			color: #fff;
			margin-left: -1px;
			border: 1px solid transparent;
			line-height: 1.5;
		}

			.pagination_cc a:active {
				outline: none;
			}

	.modal_cc a {
		margin: 0 5px;
		padding: 0;
		width: 30px;
		height: 30px;
		line-height: 30px;
		border-radius: 100%;
		background-color: #468599;
		transform: translateY(0);
		transition: all .3s ease-out;
	}

		.modal_cc a.prev_cc {
			border-radius: 50px 0 0 50px;
			width: 100px;
		}

		.modal_cc a.next_cc {
			border-radius: 0 50px 50px 0;
			width: 100px;
		}

		.modal_cc a:hover {
			background-color: #FFA100;
			color: #fff;
			font-weight: 1000;
			transform: translateY(8px);
			transition: all .3s ease-out;
		}

		.modal_cc a.active, .modal_cc a:active {
			background-color: #FFA100;
		}

		#cv a{
			cursor:pointer;
		}

</style>

<div class="user-header-wrapper">
	<div class="user-header-inner">
		<div class="uh-left">
			<div class="uh-image">
				<img class="uh-image-inner" src="~/Image/UserHead/@Model.Head" alt="">
				<div class="gradient"></div>
			</div>
		</div>
		<div class="uh-right">
			<div class="user-info">
				<h3>
					@Model.Name
					<svg class="uname-verified" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1350.03 1326.16">
						<defs>
							<style>
								.cls-11 {
									fill: var(--blue);
								}

								.cls-12 {
									fill: #ffffff;
								}</style>
						</defs>
						<title>verified</title>
						<g id="Layer_3" data-name="Layer 3">
							<polygon class="cls-11" points="0 747.37 120.83 569.85 70.11 355.04 283.43 292.38 307.3 107.41 554.93 107.41 693.66 0 862.23 120.83 1072.57 126.8 1112.84 319.23 1293.35 399.79 1256.05 614.6 1350.03 793.61 1197.87 941.29 1202.35 1147.15 969.64 1178.48 868.2 1326.16 675.02 1235.17 493.77 1315.72 354.99 1133.73 165.58 1123.29 152.16 878.64 0 747.37" />
						</g>
						<g id="Layer_2" data-name="Layer 2">
							<path class="cls-12" d="M755.33,979.23s125.85,78.43,165.06,114c34.93-36,234.37-277.22,308.24-331.94,54.71,21.89,85,73.4,93,80.25-3.64,21.89-321.91,418.58-368.42,445.94-32.74-3.84-259-195.16-275.4-217C689.67,1049.45,725.24,1003.85,755.33,979.23Z" transform="translate(-322.83 -335.95)" />
						</g>
					</svg>
				</h3>
				<a class="btn" href="~/Loading/Loading_Login_User_Edit">Edit Profile</a>
			</div>
			<div class=user-links>
				<a><span>@ViewBag.tr</span> Recording</a>
				<a><span>@ViewBag.trs</span> Success</a>
				<a><span>@ViewBag.trf</span> Failed</a>
			</div>
			<br />
			<br />
			<div class="user-bio">
				@*<p class="user-bio-name">Areal Alien</p>*@
				<p>This is the user biography <br />It also has another line.</p>
			</div>
		</div>
	</div>
</div>
<div class="user-stories">
	<div class="user-stories-inner">
		<a class="story-wrapper" href="~/Loading/Loading_Login_User_Tr">
			<div class="story-inner">
				<img class="story-img" src="https://phialphatheta.org/wp-content/uploads/Nash-History-Journal.png" alt="">
				<div class="gradient"></div>
			</div>
			<h2>Recording <i class="fa-solid fa-clock-rotate-left"></i></h2>
		</a>
		<a class="story-wrapper" href="~/Loading/Loading_Login_User_Cart">
			<div class="story-inner">
				<img class="story-img" src="https://i-1-lanrentuku.52tup.com/2020/7/28/b378c183-35e2-4e53-af63-33669e93058d.jpg?imageView2/2/w/1024/" alt="">
				<div class="gradient"></div>
			</div>
			<h2>Cart <i class="nav-icon fa-solid fa-cart-arrow-down"></i></h2>
		</a>
		<a class="story-wrapper" href="~/Loading/Loading_Login_User_Installment">
			<div class="story-inner">
				<img class="story-img" src="https://static.vecteezy.com/system/resources/previews/002/240/258/non_2x/credit-card-with-0-percent-interest-installment-payment-icon-symbol-isolated-on-white-background-vector.jpg" alt="">
				<div class="gradient-gray"></div>
			</div>
			<h2>Installment <i class="fa-brands fa-cc-amazon-pay"></i></h2>
		</a>
	</div>
</div>
<div class="user-page-wrapper">
</div>

<div class="space"></div>


<section id="cd-timeline" class="cd-container">
</section>

<div class="container_cc">
	<ul class="pagination_cc modal_cc">
		<li><a href="#" class="prev_cc" id="prev">Previous</a></li>
		<div id="cv">
		</div>
		<li><a href="#" class="next_cc" id="next">Next</a></li>
	</ul>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>

	$(function(){

		$.ajax({

			type:"GET",
			url:"/Ajax/GetMsg",
			dataType:"json",
			success:function(data){

				$.each(data,function(x,y){

					$("#cd-timeline").append(`

						<div class="cd-timeline-block show">
							<div class="cd-timeline-img cd-movie">
							</div>

							<div class="cd-timeline-content">
								<h2>${y.title}</h2>
								<p>${y.msg}</p>
								<span class="cd-date">${y.createdDate}</span>
							</div>
						</div>

					`)

				})

				$(".container_cc").css("display","block");
					var rowsTotal = $("#cd-timeline .show").length;
					var rowShown = 5;
					var numPages = rowsTotal / rowShown;
					$("#cd-timeline .show").slice(0,rowShown).show();


					for(var i = 0 ; i < numPages;i++){
						var pageNum = i+1;

						$("#cv").append(`<li><a class="back" rel='${i}'>${pageNum}</a></li>`)
						$(".back").first().css("background","red");
					}

					$("#cv a").click(function(){
						$(".back").css("background","#468599");
						$(this).css("background","red");

						var currPage = $(this).attr("rel")
						page = currPage

						var startItem = currPage * rowShown;
						var endItem = startItem + rowShown;
						var index = $(this).parent().index();

						$("#cd-timeline .show").css("opacity","0").hide().slice(startItem,endItem).css("display","block").animate({opacity:1},300)

					})

					$("#prev").click(function(){

						if(page != 0){
							var num = page - 1;
							page = num;
							var startItem = num * rowShown;
							var endItem = startItem + rowShown;

							$(".back").css("background","#468599");
							$(".back").eq(page).css("background","red");

							$("#cd-timeline .show").css("opacity","0").hide().slice(startItem,endItem).css("display","block").animate({opacity:1},300)

						}

					})

					$("#next").click(function(){
						var n = $(".back").last().attr("rel");

						if(page != n){
							var num1 = parseInt(page) + 1;
							page = num1;
							var startItem = num1 * rowShown;
							var endItem = startItem + rowShown;

							$(".back").css("background","#468599");
							$(".back").eq(page).css("background","red");

							$("#cd-timeline .show").css("opacity","0").hide().slice(startItem,endItem).css("display","block").animate({opacity:1},300)
						}

					})




			}

		})


	})







</script>